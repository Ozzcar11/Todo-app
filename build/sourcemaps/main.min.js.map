{"version":3,"sources":["01_main.js"],"names":["todoInput","document","querySelector","todoList","footerClear","filterRadio","window","onload","showChecked","checkListCount","generateTodoText","text","footer","querySelectorAll","length","style","display","countItems","count","countChecked","footerNumber","Array","from","forEach","item","checked","textContent","addTodo","e","value","key","insertAdjacentHTML","eventCheck","target","classList","deleteTodo","itemChecked","clearCompleted","closest","remove","parentElement","nextElementSibling","toggle","filterTodo","disabled","todos","children","i","contains","editTodo","textElem","inputElem","focus","onblur","addEventListener"],"mappings":"AAAA,MAAMA,UAAYC,SAASC,cAAc,gBACnCC,SAAWF,SAASC,cAAc,eAClCE,YAAcH,SAASC,cAAc,kBACrCG,YAAcJ,SAASC,cAAc,oBAE3CI,OAAOC,OAASC,cAChBF,OAAOC,OAASE,iBAEhB,MAAMC,iBAAoBC,GAChB,sOAM+BA,2eAqBzC,SAASF,iBACN,IAAIG,EAASX,SAASC,cAAc,WACoB,IAApDD,SAASY,iBAAiB,eAAeC,OAC1CF,EAAOG,MAAMC,QAAU,OACS,QAAxBJ,EAAOG,MAAMC,UAAmBJ,EAAOG,MAAMC,QAAU,QAGrE,SAASC,aACN,IAAIC,EAAQ,EACRC,EAAelB,SAASY,iBAAiB,wBAC7C,MAAMO,EAAenB,SAASC,cAAc,iBAC5CiB,EAAeE,MAAMC,KAAKH,GAAcI,QAAQC,KACxB,IAAjBA,EAAKC,SAAmBP,MAEV,OAAjBE,IAAuBA,EAAaM,YAAcR,GAGzD,SAASS,QAAQC,GACU,KAApB5B,UAAU6B,QACD,UAAVD,EAAEE,MACF3B,SAAS4B,mBAAmB,YA/CxB,sOA+CsD/B,UAAU6B,gfACpE7B,UAAU6B,MAAQ,GAClBpB,iBACAQ,eAIN,SAASe,WAAWJ,GACjB,MAAMJ,EAAOI,EAAEK,OACf,OAAQT,EAAKU,UAAU,IACpB,IAAK,oBACFC,WAAWX,GACXP,aACA,MACH,IAAK,sBACFmB,YAAYZ,GACZP,cAKT,SAASoB,iBACcpC,SAASY,iBAAiB,iBAClCU,QAASC,GAASA,EAAKc,QAAQ,eAAeC,UAC1D9B,iBACAD,cAGH,SAAS2B,WAAWX,GACjBA,EAAKgB,cAAcD,SACnB9B,iBACAD,cAGH,SAAS4B,YAAYZ,GAClBA,EAAKgB,cAAcC,mBAAmBP,UAAUQ,OAAO,gBACvDlC,cACAmC,aAGH,SAASnC,cACoD,IAAtDP,SAASY,iBAAiB,iBAAiBC,OAC5CV,YAAYwC,UAAW,EACnBxC,YAAYwC,UAAW,EAGjC,SAASD,WAAWf,GACjB,MAAMiB,EAAQ1C,SAAS2C,SACvB,IAAK,IAAIC,KAAKF,EACX,OAAQ5C,SAASC,cAAc,8BAA8B2B,OAC1D,IAAK,MACFkB,EAAEhC,MAAMC,QAAU,OAClB,MACH,IAAK,YACE+B,EAAED,SAAS,GAAGZ,UAAUc,SAAS,gBAClCD,EAAEhC,MAAMC,QAAU,OAElB+B,EAAEhC,MAAMC,QAAU,OAErB,MACH,IAAK,SACG+B,EAAED,SAAS,GAAGZ,UAAUc,SAAS,gBAGnCD,EAAEhC,MAAMC,QAAU,OAFlB+B,EAAEhC,MAAMC,QAAU,QASjC,SAASiC,SAASrB,GACf,GAAIA,EAAEK,OAAOC,UAAUc,SAAS,mBAAoB,CACjD,MAAME,EAAWtB,EAAEK,OACbkB,EAAYD,EAAST,mBAC3BU,EAAUtB,MAAQqB,EAASxB,YAC3BwB,EAASnC,MAAMC,QAAU,OACzBkC,EAASV,cAActC,cAAc,sBAAsBa,MAAMC,QAAU,OAC3EmC,EAAUpC,MAAMC,QAAU,QAC1BmC,EAAUC,QACVD,EAAUE,OAAS,KAChBH,EAASxB,YAAcyB,EAAUtB,MACjCsB,EAAUpC,MAAMC,QAAU,OAC1BkC,EAASnC,MAAMC,QAAU,QACzBkC,EAASV,cAActC,cAAc,sBAAsBa,MAAMC,QAAU,UAhHpFhB,UAAUsD,iBAAiB,QAAS3B,SACpCxB,SAASmD,iBAAiB,QAAStB,YACnC7B,SAASmD,iBAAiB,WAAYL,UACtC7C,YAAYkD,iBAAiB,QAASjB,gBACtChC,YAAYiD,iBAAiB,QAASX","file":"../js/main.min.js","sourcesContent":["const todoInput = document.querySelector('.todo__input')\r\nconst todoList = document.querySelector('.todo__list')\r\nconst footerClear = document.querySelector('.footer__clear')\r\nconst filterRadio = document.querySelector('.footer__filters')\r\n\r\nwindow.onload = showChecked()\r\nwindow.onload = checkListCount()\r\n\r\nconst generateTodoText = (text) => {\r\n   return `\r\n      <li class=\"todo__item\">\r\n         <label class=\"todo__item-toggle\">\r\n            <input class=\"todo__item-checkbox\" type=\"checkbox\">\r\n            <span></span>\r\n         </label>\r\n         <span class=\"todo__item-text\">${text}</span>\r\n         <input class=\"todo__item-input\" type=\"text\">\r\n         <button class=\"todo__item-button\">\r\n            <svg class=\"todo__item-img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" stroke=\"rgba(138, 1, 1, 0.4)\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\r\n               <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"/>\r\n               <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"/>\r\n            </svg>\r\n         </button>\r\n      </li>\r\n   `\r\n}\r\n\r\n\r\ntodoInput.addEventListener('keyup', addTodo)\r\ntodoList.addEventListener('click', eventCheck)\r\ntodoList.addEventListener('dblclick', editTodo)\r\nfooterClear.addEventListener('click', clearCompleted)\r\nfilterRadio.addEventListener('click', filterTodo)\r\n\r\n\r\n\r\nfunction checkListCount() {\r\n   let footer = document.querySelector('.footer')\r\n   if (document.querySelectorAll('.todo__item').length === 0) {\r\n      footer.style.display = 'none'\r\n   } else if (footer.style.display == 'none') footer.style.display = 'flex'\r\n}\r\n\r\nfunction countItems() {\r\n   let count = 0\r\n   let countChecked = document.querySelectorAll('.todo__item-checkbox')\r\n   const footerNumber = document.querySelector('.footer__numb')\r\n   countChecked = Array.from(countChecked).forEach(item => {\r\n      if (item.checked === false) count++\r\n   })\r\n   if (footerNumber !== null) footerNumber.textContent = count\r\n}\r\n\r\nfunction addTodo(e) {\r\n   if (todoInput.value === '') return\r\n   if(e.key === 'Enter') {\r\n      todoList.insertAdjacentHTML('beforeend', generateTodoText(todoInput.value))\r\n      todoInput.value = ''\r\n      checkListCount()\r\n      countItems()\r\n   }\r\n}\r\n\r\nfunction eventCheck(e) {\r\n   const item = e.target\r\n   switch (item.classList[0]) {\r\n      case 'todo__item-button':\r\n         deleteTodo(item)\r\n         countItems()\r\n         break\r\n      case 'todo__item-checkbox':\r\n         itemChecked(item)\r\n         countItems()\r\n         break\r\n   }\r\n}\r\n\r\nfunction clearCompleted() {\r\n   const itemChecked = document.querySelectorAll('.item-checked')\r\n   itemChecked.forEach((item) => item.closest('.todo__item').remove())\r\n   checkListCount()\r\n   showChecked()\r\n}\r\n\r\nfunction deleteTodo(item) {\r\n   item.parentElement.remove()\r\n   checkListCount()\r\n   showChecked()\r\n}\r\n\r\nfunction itemChecked(item) {\r\n   item.parentElement.nextElementSibling.classList.toggle('item-checked')\r\n   showChecked()\r\n   filterTodo()\r\n}\r\n\r\nfunction showChecked() {\r\n   if (document.querySelectorAll('.item-checked').length === 0) {\r\n      footerClear.disabled = true\r\n   } else footerClear.disabled = false\r\n}\r\n\r\nfunction filterTodo(e) {\r\n   const todos = todoList.children\r\n   for (let i of todos) {\r\n      switch (document.querySelector('input[name=filter]:checked').value) {\r\n         case 'all':\r\n            i.style.display = 'flex'\r\n            break\r\n         case 'completed':\r\n            if (i.children[1].classList.contains('item-checked')) {\r\n               i.style.display = 'flex'\r\n            } else {\r\n               i.style.display = 'none'\r\n            }\r\n            break\r\n         case 'active':\r\n            if (!i.children[1].classList.contains('item-checked')) {\r\n               i.style.display = 'flex'\r\n            } else {\r\n               i.style.display = 'none'\r\n            }\r\n            break\r\n      }\r\n   }\r\n}\r\n\r\nfunction editTodo(e) {\r\n   if (e.target.classList.contains('todo__item-text')) {\r\n      const textElem = e.target\r\n      const inputElem = textElem.nextElementSibling\r\n      inputElem.value = textElem.textContent\r\n      textElem.style.display = 'none'\r\n      textElem.parentElement.querySelector('.todo__item-button').style.display = 'none'\r\n      inputElem.style.display = 'block'\r\n      inputElem.focus()\r\n      inputElem.onblur = () => {\r\n         textElem.textContent = inputElem.value\r\n         inputElem.style.display = 'none'\r\n         textElem.style.display = 'block'\r\n         textElem.parentElement.querySelector('.todo__item-button').style.display = 'block'\r\n      }\r\n   }\r\n}\r\n\r\n"]}